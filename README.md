# Учет заявок на ремонт бытовой техники (Учебная практика)

Веб‑модуль для учета заявок на ремонт бытовой техники с поддержкой ролей,
запросов помощи и базовой статистики.

## Запуск

```bash
cp .env.example .env
docker compose up --build
```

После старта интерфейс доступен по адресу:
`http://localhost:8000/ui/login`

## Вход

Тестовые логины/пароли берутся из `data/import/inputDataUsers.csv`:

- Менеджер: `kasoo / root`
- Оператор: `perinaAD / 250519`
- Мастер: `murashov123 / qwerty`
- Заказчик: `login2 / pass2`
- Менеджер по качеству: `quality1 / quality1`

## Роли и права

- **Менеджер**
  - видит все заявки;
  - создаёт/редактирует/удаляет заявки;
  - назначает исполнителей;
  - управляет пользователями;
  - просматривает статистику.

- **Оператор**
  - видит все заявки;
  - создаёт/редактирует/удаляет заявки;
  - назначает исполнителей.

- **Мастер/Специалист**
  - видит только свои заявки;
  - редактирует только свои заявки;
  - меняет статус своей заявки (без «раскрытия» финального статуса);
  - добавляет комментарии;
  - может создать запрос помощи.

- **Заказчик**
  - видит только свои заявки;
  - создаёт новые заявки;
  - редактирует свои заявки только до наступления финального статуса;
  - не может менять статус, назначать исполнителя и комплектующие.

- **Менеджер по качеству**
  - видит все заявки;
  - обрабатывает запросы помощи;
  - может продлевать срок и назначать исполнителя;
  - контролирует просроченные заявки.

## Основные страницы

- `/ui/login` — вход
- `/ui/requests` — список заявок
- `/ui/requests/new` — новая заявка
- `/ui/requests/{id}` — карточка заявки
- `/ui/requests/{id}/edit` — редактирование заявки
- `/ui/quality` — контроль качества
- `/ui/statistics` — статистика (Менеджер)
- `/ui/users` — список пользователей (Менеджер)

## Тестирование

```bash
pip install -r scripts/requirements.txt
pytest -q
```

## Документация

- `docs/report1.md` — задание 1 (спецификация, алгоритмы, интерфейс, тесты)
- `docs/report2.md` — задание 2 (ERD/3НФ, импорт, отчеты, резервное копирование)
- `docs/report3.md` — задание 3 (менеджер по качеству, запросы помощи, QR‑код)
- `docs/er_diagram.mmd` — ER‑диаграмма
- `docs/test_protocol.md` — протокол тестирования
- `docs/Руководство системному программисту 01.md` — руководство системному программисту
- `docs/Качественные_характеристики_кода.md` — качественные характеристики кода
- `docs/Предложения_по_модификации_ПО.txt` — предложения по модификации ПО
