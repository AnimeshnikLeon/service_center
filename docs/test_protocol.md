# Протокол тестирования

## 1. Цель

Проверить корректность ключевых сценариев:

- расчет статистики;
- ограничения прав доступа (RBAC);
- создание запросов помощи.

## 2. Среда

- Python 3.12
- pytest 8.x

## 3. Сценарии и ожидаемые результаты

### 3.1. Статистика

Команда:

```bash
pytest -q tests/test_statistics.py
```

Ожидаемый результат:

- корректное вычисление общего числа заявок;
- корректное вычисление числа завершенных заявок;
- корректный расчет среднего времени ремонта.

### 3.2. RBAC

Команда:

```bash
pytest -q tests/test_rbac.py
```

Ожидаемый результат:

- менеджер имеет доступ к любой заявке;
- заказчик видит только свои заявки;
- мастер не может переводить финальный статус в нефинальный.

### 3.3. Запросы помощи

Команда:

```bash
pytest -q tests/test_help_requests.py
```

Ожидаемый результат:

- мастер может создать запрос помощи по своей заявке;
- запрещено создавать запросы помощи по чужим заявкам;
- повторный открытый запрос помощи блокируется.
